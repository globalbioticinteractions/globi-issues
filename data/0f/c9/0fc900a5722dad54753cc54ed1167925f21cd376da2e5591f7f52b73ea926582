[{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/1132963432","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/793#issuecomment-1132963432","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/793","id":1132963432,"node_id":"IC_kwDOACXQt85Dh6Zo","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T14:28:32Z","updated_at":"2022-05-20T14:28:32Z","body":"On close inspection, I noticed that the download link for supplement 4 as configured in https://github.com/globalbioticinteractions/choy2017/blob/0c8cb50f9acb40672f6afd604e20a609a1728f03/globi.json was : \r\n\r\nhttp://rspb.royalsocietypublishing.org/highwire/filestream/80336/field_highwire_adjunct_files/3/rspb20172116supp4.csv\r\n\r\nHowever, on inspecting the current publication page (see image), the following link was published associated with the same supplement 4:\r\n\r\nhttps://royalsocietypublishing.org/action/downloadSupplement?doi=10.1098%2Frspb.2017.2116&file=rspb20172116supp4.csv\r\n\r\nUsing \"cURL\" (https://en.wikipedia.org/wiki/CURL) to probe the respective urls:\r\n\r\n```\r\n$ curl -I \"http://rspb.royalsocietypublishing.org/highwire/filestream/80336/field_highwire_adjunct_files/3/rspb20172116supp4.csv\"\r\nHTTP/1.1 301 Moved Permanently\r\nDate: Fri, 20 May 2022 14:26:07 GMT\r\n```\r\n\r\nand retrieving the redirected content (see attached):\r\n\r\n```\r\ncurl -L \"http://rspb.royalsocietypublishing.org/highwire/filestream/80336/field_highwire_adjunct_files/3/rspb20172116supp4.csv\" > rspb20172116supp4.csv\r\n```\r\n[rspb20172116supp4.csv](https://github.com/globalbioticinteractions/globalbioticinteractions/files/8740886/rspb20172116supp4.csv)\r\n\r\nI found that the redirected content is *not* a csv file, but appear to be an html file instead:\r\n\r\n```\r\n$ head ~/tmp/rspb20172116supp4.csv \r\n<!DOCTYPE html>\r\n<html lang=\"en\"     class=\"pb-page\"  data-request-id=\"b04d1da8-f16b-401d-a894-550d20252924\"  \r\n><head data-pb-dropzone=\"head\"><meta name=\"pbContext\" content=\";website:website:rsj-site;wgroup:string:Publication Websites;page:string:Cookie Absent\"/>\r\n            <link type=\"text/css\" rel=\"stylesheet\" href=\"/pb-assets/css/pbCss-1595579284627.css\">\r\n```\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/1132963432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/1132978924","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/793#issuecomment-1132978924","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/793","id":1132978924,"node_id":"IC_kwDOACXQt85Dh-Ls","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T14:38:58Z","updated_at":"2022-05-20T14:52:03Z","body":"On inspecting the provenance of the Choy2017 supplement via GloBI access logs, I found evidence to suggest that content associated with the data supplement url (as determined by their content id, or hash://sha256/3aea4096490d0fb7f258a31ef162ee9359ac15659f7ee84af26158e8e4a4be2a ), by Royal Society servers remain stable up from at least 2017-12-23T21:49:17Z (or 23 Dec 2017)  until 2020-07-03T01:35:36.485Z\t, (or 3 July 2020). After that, the content changed each time when probed. On inspection to the produced content, it appears that the data location was redirected to a dynamic html page, instead of the new location of the data file. \r\n\r\n```\r\nglobalbioticinteractions/choy2017\thttp://rspb.royalsocietypublishing.org/highwire/filestream/78551/field_highwire_adjunct_files/3/rspb20172116supp4.csv\t3aea4096490d0fb7f258a31ef162ee9359ac15659f7ee84af26158e8e4a4be2a\t2017-12-23T21:49:17Z\r\n[...]\r\nglobalbioticinteractions/choy2017\thttps://royalsocietypublishing.org/action/downloadSupplement?doi=10.1098%2Frspb.2017.2116&file=rspb20172116supp4.csv\t3aea4096490d0fb7f258a31ef162ee9359ac15659f7ee84af26158e8e4a4be2a\t2020-07-03T01:35:36.485Z\t \r\nglobalbioticinteractions/choy2017\thttp://rspb.royalsocietypublishing.org/highwire/filestream/80336/field_highwire_adjunct_files/3/rspb20172116supp4.csv\te0010e84aa95a78255b4547dab6079351618d1a7f77dad6f0976daf5ddaafffb\t2022-02-05T00:06:33.071Z\t\r\nglobalbioticinteractions/choy2017\thttp://rspb.royalsocietypublishing.org/highwire/filestream/80336/field_highwire_adjunct_files/3/rspb20172116supp4.csv\t1318771f5bce4cfe1c5163505f43758f6190d6871aec2218b594dd53990d5e4e\t2022-02-08T02:17:19.243Z\t\r\nglobalbioticinteractions/choy2017\thttp://rspb.royalsocietypublishing.org/highwire/filestream/80336/field_highwire_adjunct_files/3/rspb20172116supp4.csv\t6cd7b666470dc93d5cda2fdd580c383078b1a1f2588561df9c2078ce3f99ee0e\t2022-02-11T23:52:57.349Z\t\r\n[...]\r\n```\r\n\r\nfor a more complete access log, see attached \r\n[choy2017-accesslog.tsv.txt](https://github.com/globalbioticinteractions/globalbioticinteractions/files/8740968/choy2017-accesslog.tsv.txt)\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/1132978924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/1133000535","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/793#issuecomment-1133000535","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/793","id":1133000535,"node_id":"IC_kwDOACXQt85DiDdX","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T14:51:48Z","updated_at":"2022-05-20T14:51:48Z","body":"Now, when using the newly advertised url via ```cURL``` we find that:\r\n\r\n```\r\n$ curl -I -L 'https://royalsocietypublishing.org/action/downloadSupplement?doi=10.1098%2Frspb.2017.2116&file=rspb20172116supp4.csv' \r\nHTTP/2 302 \r\ndate: Fri, 20 May 2022 14:43:25 GMT\r\ncontent-type: text/html; charset=utf-8\r\nlocation: https://royalsocietypublishing.org/action/downloadSupplement?doi=10.1098%2Frspb.2017.2116&file=rspb20172116supp4.csv&cookieSet=1\r\ncache-control: private\r\nx-xss-protection: 1; mode=block\r\nx-content-type-options: nosniff\r\nstrict-transport-security: max-age=15552000\r\nx-frame-options: SAMEORIGIN\r\nset-cookie: JSESSIONID=de232004-01e5-4f7c-a690-4ca96df95cfc; path=/; domain=.royalsocietypublishing.org; age=-1; HttpOnly; SameSite=None; Secure\r\np3p: CP=\"NOI DSP ADM OUR IND OTC\"\r\ncf-cache-status: DYNAMIC\r\nexpect-ct: max-age=604800, report-uri=\"https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct\"\r\nset-cookie: JSESSIONID=de232004-01e5-4f7c-a690-4ca96df95cfc; path=/; domain=.royalsocietypublishing.org; age=-1; HttpOnly; SameSite=None; Secure\r\nset-cookie: SERVER=WZ6myaEXBLHOG48+h1udTA==; domain=.royalsocietypublishing.org; path=/; secure; HttpOnly\r\nset-cookie: MAID=FKD4ylsnVD9mTsDkochSCw==; domain=.royalsocietypublishing.org; path=/; secure; expires=Thu, 16-Mar-2023 14:43:25 GMT; HttpOnly\r\nset-cookie: MACHINE_LAST_SEEN=2022-05-20T07%3A43%3A25.307-07%3A00; domain=.royalsocietypublishing.org; path=/; secure; expires=Thu, 16-Mar-2023 14:43:25 GMT; HttpOnly\r\nset-cookie: I2KBRCK=1; domain=.royalsocietypublishing.org; path=/; secure; expires=Sat, 20-May-2023 14:43:25 GMT; HttpOnly\r\nset-cookie: __cf_bm=C8cZi__qfXtCzhE0Lk2T6wYrfNOgnoMg4WxGxvpDojY-1653057805-0-AUcTgnx/K4uje5k69JPUZrZwQmqAJ8DzgjG/j6RKmn25JZUjEmDnL01Y0+WddrppF6KnBPF0MsaoN0l/PA7y/n4=; path=/; expires=Fri, 20-May-22 15:13:25 GMT; domain=.royalsocietypublishing.org; HttpOnly; Secure; SameSite=None\r\nserver: cloudflare\r\ncf-ray: 70e5d832c9d52d58-ORD\r\n\r\nHTTP/2 302 \r\ndate: Fri, 20 May 2022 14:43:25 GMT\r\ncontent-type: text/html; charset=utf-8\r\nlocation: https://royalsocietypublishing.org/action/cookieAbsent\r\ncache-control: private\r\nx-xss-protection: 1; mode=block\r\nx-content-type-options: nosniff\r\nstrict-transport-security: max-age=15552000\r\nx-frame-options: SAMEORIGIN\r\nset-cookie: JSESSIONID=ea2e37f3-2cb0-421c-b21f-926a2d98c886; path=/; domain=.royalsocietypublishing.org; age=-1; HttpOnly; SameSite=None; Secure\r\np3p: CP=\"NOI DSP ADM OUR IND OTC\"\r\ncf-cache-status: DYNAMIC\r\nexpect-ct: max-age=604800, report-uri=\"https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct\"\r\nset-cookie: JSESSIONID=ea2e37f3-2cb0-421c-b21f-926a2d98c886; path=/; domain=.royalsocietypublishing.org; age=-1; HttpOnly; SameSite=None; Secure\r\nset-cookie: SERVER=WZ6myaEXBLE2Dchg9Czm/w==; domain=.royalsocietypublishing.org; path=/; secure; HttpOnly\r\nset-cookie: MAID=lqiPBfAikyCh6b+Yq+nUfw==; domain=.royalsocietypublishing.org; path=/; secure; expires=Thu, 16-Mar-2023 14:43:25 GMT; HttpOnly\r\nset-cookie: MACHINE_LAST_SEEN=2022-05-20T07%3A43%3A25.604-07%3A00; domain=.royalsocietypublishing.org; path=/; secure; expires=Thu, 16-Mar-2023 14:43:25 GMT; HttpOnly\r\nset-cookie: __cf_bm=5S9VqAWGCjNzRplbk6TbgsgEMmzN_HgiVCjrTQ_Ah40-1653057805-0-AUmo0sCDSgXRC5DgoZvzHXlvM2hJTZowJLRnlWCa7VsmS50sEiee9rN9ppIij8r3WlXHOdaySEzzmQg5WowVo/4=; path=/; expires=Fri, 20-May-22 15:13:25 GMT; domain=.royalsocietypublishing.org; HttpOnly; Secure; SameSite=None\r\nserver: cloudflare\r\ncf-ray: 70e5d8338b092d58-ORD\r\n\r\nHTTP/2 200 \r\ndate: Fri, 20 May 2022 14:43:25 GMT\r\ncontent-type: text/html; charset=UTF-8\r\nx-xss-protection: 1; mode=block\r\nx-content-type-options: nosniff\r\nstrict-transport-security: max-age=15552000\r\nx-frame-options: SAMEORIGIN\r\ncache-control: no-cache\r\nx-webstats-respid: 22869669a43c2f964a25b2da667cf504\r\nset-cookie: JSESSIONID=b2e66bb0-d3c7-4b4b-9710-080ca33cdba4; path=/; domain=.royalsocietypublishing.org; age=-1; HttpOnly; SameSite=None; Secure\r\ncf-cache-status: DYNAMIC\r\nexpect-ct: max-age=604800, report-uri=\"https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct\"\r\nset-cookie: __cf_bm=FzzScX_hgB97xGOA3d99JyB4Zm2R5rCVb.JTtyR5lHM-1653057805-0-AaVGKD9Gk8cUt5iYJCy2GLeITcM9WgrDWsIzaPC6haykgjuzDPLHwA3oIz8prO9r+SHPmsZ6rpafjr9hwnEP9hU=; path=/; expires=Fri, 20-May-22 15:13:25 GMT; domain=.royalsocietypublishing.org; HttpOnly; Secure; SameSite=None\r\nserver: cloudflare\r\ncf-ray: 70e5d8355e622d58-ORD\r\n```\r\n\r\nand associated content:\r\n\r\n```\r\n$ curl --silent -L 'https://royalsocietypublishing.org/action/downloadSupplement?doi=10.1098%2Frspb.2017.2116&file=rspb20172116supp4.csv' | head\r\n<!DOCTYPE html>\r\n<html lang=\"en\"     class=\"pb-page\"  data-request-id=\"36584394-b0a6-48e7-8d88-12453d0e9e27\"  \r\n><head data-pb-dropzone=\"head\"><meta name=\"pbContext\" content=\";website:website:rsj-site;wgroup:string:Publication Websites;page:string:Cookie Absent\"/>\r\n            <link type=\"text/css\" rel=\"stylesheet\" href=\"/pb-assets/css/pbCss-1595579284627.css\">\r\n```\r\n\r\nthis means that the Royal Society server returns an html page to a cURL request to the published url. \r\n\r\nHowever, when *manually* downloaded using a browser, a csv file was produced by the Royal Society server:\r\n\r\n\r\nwhen inspecting the content id (via their sha256 hash), the following id was found:\r\n\r\n```\r\n$ cat rspb20172116supp4.csv | sha256sum\r\n3aea4096490d0fb7f258a31ef162ee9359ac15659f7ee84af26158e8e4a4be2a  -\r\n```\r\n\r\nor hash://sha256/3aea4096490d0fb7f258a31ef162ee9359ac15659f7ee84af26158e8e4a4be2a . \r\n\r\nAnd, this content id is identical to the file that was indexed up until 3 July 2020.\r\n\r\nSo, it appears that the content is still available, but the url is producing different results based on the method used to access it (e.g., firefox browser vs cURL). ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/1133000535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/1133068566","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/793#issuecomment-1133068566","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/793","id":1133068566,"node_id":"IC_kwDOACXQt85DiUEW","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T15:59:27Z","updated_at":"2022-05-20T15:59:27Z","body":"Before updating index configuration, here are some related index results found  via https://www.globalbioticinteractions.org/?accordingTo=globi%3Aglobalbioticinteractions%2Fchoy2017&interactionType=interactsWith \r\n\r\n![Screenshot from 2022-05-20 10-58-03](https://user-images.githubusercontent.com/1084872/169567037-27ae4302-e98f-44e4-8889-7b1839b1e1b2.png)\r\n\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/1133068566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/1143935587","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/793#issuecomment-1143935587","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/793","id":1143935587,"node_id":"IC_kwDOACXQt85ELxJj","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-01T17:35:36Z","updated_at":"2022-06-01T17:36:28Z","body":"Index config for choy 2017 has been updated.\r\n\r\nSee sample screenshots below.\r\n\r\n![Screenshot from 2022-06-01 12-33-37](https://user-images.githubusercontent.com/1084872/171467515-0d29efba-f9fb-4c37-9b98-0a153d4ed99d.png)\r\n\r\n![Screenshot from 2022-06-01 12-36-01](https://user-images.githubusercontent.com/1084872/171467690-ff5fe363-5ac5-4277-bb02-ecdf4b7e45ac.png)\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/1143935587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]