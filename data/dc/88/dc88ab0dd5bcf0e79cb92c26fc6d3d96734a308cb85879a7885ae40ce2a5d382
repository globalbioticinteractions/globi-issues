{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/862","repository_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions","labels_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/862/labels{/name}","comments_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/862/comments","events_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/862/events","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/862","id":1519807366,"node_id":"I_kwDOACXQt85almuG","number":862,"title":"globi data definitions: neo4j schema","user":{"login":"zedomel","id":7684564,"node_id":"MDQ6VXNlcjc2ODQ1NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/7684564?v=4","gravatar_id":"","url":"https://api.github.com/users/zedomel","html_url":"https://github.com/zedomel","followers_url":"https://api.github.com/users/zedomel/followers","following_url":"https://api.github.com/users/zedomel/following{/other_user}","gists_url":"https://api.github.com/users/zedomel/gists{/gist_id}","starred_url":"https://api.github.com/users/zedomel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zedomel/subscriptions","organizations_url":"https://api.github.com/users/zedomel/orgs","repos_url":"https://api.github.com/users/zedomel/repos","events_url":"https://api.github.com/users/zedomel/events{/privacy}","received_events_url":"https://api.github.com/users/zedomel/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":104818864,"node_id":"MDU6TGFiZWwxMDQ4MTg4NjQ=","url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/labels/new%20feature","name":"new feature","color":"009800","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-01-05T00:49:40Z","updated_at":"2023-10-23T21:53:31Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi @jhpoelen \r\n\r\nI was playing with neo4j database created from GBIF/DwcA datasets and I'm trying to understand the schema.\r\n\r\nFrom what I understand there are interactions between pairs of Taxon nodes and interactions between pairs of Specimen nodes, right?\r\nThey are the same interactions, but represented in different levels (e.g specimen -- specimen and species -- species) or they are different and the specimen nodes are used when the records contains data about the occurrences?\r\n\r\nI looking for cypher query to count the total number of interactions pairs between kingdoms. At the moment I'm trying:\r\n`match (n:Taxon)-[r]->(m:Taxon) where id(n) > id(m) and r.inverted = \"true\" and exists(n.kingdomName) and exists(m.kingdomName) with n.kingdomName as kingdom1,m.kingdomName as kingdom2,type(r) as int, count(*) as total return kingdom1,int,kingdom2,total order by total desc`\r\n\r\nBut I suspect the it is missing interactions from: `(n:Taxon)-[]-(:Specimen)-[r]-(:Specimen)-[]-(m:Taxon)` \r\n\r\nCould you help me to understand the schema and how to perform such query?\r\n\r\nthanks.\r\n\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/862/timeline","performed_via_github_app":null,"state_reason":null}