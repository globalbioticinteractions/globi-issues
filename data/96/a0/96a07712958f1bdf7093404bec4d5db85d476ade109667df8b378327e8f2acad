[{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/715637308","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/544#issuecomment-715637308","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/544","id":715637308,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNTYzNzMwOA==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-24T00:00:07Z","updated_at":"2020-10-24T00:00:07Z","body":"@dustymc I found the root cause (inefficient rowscan query) and have a sketch of a solution (graph or text index). Can hopefully take a stab at an optimization in the next few days. Thanks for being patient!","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/715637308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/724121077","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/544#issuecomment-724121077","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/544","id":724121077,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDEyMTA3Nw==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T16:25:50Z","updated_at":"2020-11-09T16:25:50Z","body":"@dustymc just to say that I am still planning to work on this, just didn't get to it yet. Thanks for being patient.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/724121077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/848303056","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/544#issuecomment-848303056","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/544","id":848303056,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODMwMzA1Ng==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T22:10:03Z","updated_at":"2021-05-25T22:10:41Z","body":"Hey @dustymc - I finally got around to indexing those ```according to``` URIs.\r\n\r\nPreviously, you reported 404 response time ~4s. \r\n\r\nAfter introducing the index, I found:\r\n\r\n```\r\n$ time curl -I https://api.globalbioticinteractions.org/exists?accordingTo=http://arctos.database.museum/guid/ABC:ZYZ:ItAintThere\r\nHTTP/2 404 \r\ndate: Tue, 25 May 2021 22:08:00 GMT\r\ncontent-type: text/html;charset=iso-8859-1\r\naccess-control-allow-origin: *\r\naccess-control-allow-methods: GET, POST, PUT, DELETE, OPTIONS\r\naccess-control-allow-headers: origin, content-type\r\naccess-control-max-age: 1800\r\ncache-control: must-revalidate,no-cache,no-store\r\ncf-cache-status: DYNAMIC\r\ncf-request-id: 0a472b199400003b04a1856000000001\r\nexpect-ct: max-age=604800, report-uri=\"https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct\"\r\nreport-to: {\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v2?s=S8r6Td%2BHESD34i5EJZxoR3t8Rq946d9%2BcH96lhB%2FJ0%2FUm5XMDMosYU5N4mkC1zzh%2BIm5cX29I5kPj3ub4tzuQUvb4DGr4Sh20I4vcYtbChfMAT8g0bNGYesLSEHUdHOKNuvDpV7jXUwdBIslcYE%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}\r\nnel: {\"report_to\":\"cf-nel\",\"max_age\":604800}\r\nserver: cloudflare\r\ncf-ray: 6552146f5d4d3b04-SJC\r\nalt-svc: h3-27=\":443\"; ma=86400, h3-28=\":443\"; ma=86400, h3-29=\":443\"; ma=86400\r\n\r\nreal\t0m0.759s\r\nuser\t0m0.027s\r\nsys\t0m0.009s\r\n```\r\n \r\nWhich suggest that introducing the index resulting in a response time improvement of about 4x. \r\n\r\nThanks for being patient with the tardy GloBI responses, and please comment/re-open if there's more optimizations needed to make for a reasonable experience. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/848303056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]