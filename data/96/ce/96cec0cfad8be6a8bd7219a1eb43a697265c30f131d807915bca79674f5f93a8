{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/660","repository_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions","labels_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/660/labels{/name}","comments_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/660/comments","events_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/660/events","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/660","id":875940557,"node_id":"MDU6SXNzdWU4NzU5NDA1NTc=","number":660,"title":"overly greedy dwca description type interaction extraction","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":104818864,"node_id":"MDU6TGFiZWwxMDQ4MTg4NjQ=","url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/labels/new%20feature","name":"new feature","color":"009800","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-05-05T00:16:14Z","updated_at":"2021-05-22T00:02:50Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"via #553 , functionality was added to attempt to extract species interaction from GBIF's http://rs.gbif.org/extension/gbif/1.0/description.xml dwc extension.\r\n\r\nHowever @zedomel noted that the functionality cast a net that is too wide: the matcher appears to be too greedy:\r\n\r\nto reproduce (via @zedomel)\r\n\r\n> Take a look at this DwC-A. The step to reproduce:\r\n> - preston cat hash://sha256/0047722fa9d4603d9b001e599d8109869c3bf518398cf3a88587ac221985362c --remote https://deeplinker.bio > dwca.zip\r\n> - create the globi.json file with follow contents: \r\n> {\r\n>  \"format\": \"dwca\",\r\n>  \"citation\": \"hash://sha256/0047722fa9d4603d9b001e599d8109869c3bf518398cf3a88587ac221985362c\",\r\n>  \"url\": \"dwca.zip\"\r\n> }\r\n\r\n>- elton interactions | cut -f8,20,27\r\n\r\n\r\n> sourceTaxonName\tinteractionTypeName\ttargetTaxonName\r\n\r\n> listing interactions [local]... Phenacoscorpius longirostris\tinteractsWith\tColor of preserved specimens. Body and all fins whitish\r\n\r\n> Phenacoscorpius longirostris\tinteractsWith\twith small black spots scattered on caudal peduncle. (Fig. 2). In paratype\r\n\r\n> Phenacoscorpius longirostris\tinteractsWith\tbody with four indistinct brownish saddles\r\n\r\n> Phenacoscorpius longirostris\tinteractsWith\tblackish blotch on membrane between seventh and tenth dorsal-fin spines still evident.\r\n\r\n\r\n> elton is getting targetTaxonName from  http://purl.org/dc/terms/description term in the DwC-A. Elton is capable to get interactions from many different DwC-A fields, but in this case the parser is producing an output that is not a taxon name. I'm thinking of removing lines from interactions.tsv file (post-processing) which don't have valid names in sourceTaxonName or targetTaxonName. \r\n\r\nSuggest to narrow criteria for considering interaction candidates to include only taxon descriptions of types \"ecology\", \"dispersal\", \"diseases\" and \"associations\" (see http://rs.gbif.org/vocabulary/gbif/description_type.xml)\r\n\r\nThis suggested narrowing would exclude description from the specific example provided by @zedomel  ```https://deeplinker.bio/cat/zip:hash://sha256/0047722fa9d4603d9b001e599d8109869c3bf518398cf3a88587ac221985362c!/description.txt``` (see below) because the description type is \"materials_examined\" and \"diagnosis\".\r\n\r\n```\r\ntaxonID\ttype\tdescription\tlanguage\tsource\r\n407CB657466A055EFF50C355FC8E8DFF.taxon\tmaterials_examined\tHolotype. CSIRO H 6007 â€“ 14, female, 63.2 mm SL, south of Norfolk Island, Norfolk Island Ridge, Tasman Sea, 29 Â° 42 â€™ S, 168 Â° 01 â€™ E, 322 m depth, coll. by FRV Tangaroa, 14 May 2003. Paratype. CSIRO H 6024 â€“ 04, male, 47.9 mm SL, Lord Howe Rise, Tasman Sea, 29 Â° 13 â€™ S, 159 Â° 00 â€™ E, 300 m depth, coll. by FRV Tangaroa, 20 May 2003.\ten\tMotomura, Hiroyuki, Last, Peter R. (2009): Phenacoscorpius longirostris, a new species of deep water scorpionfish (Scorpaeniformes: Scorpaenidae) from the northern Tasman Sea, southwestern Pacific Ocean. Zootaxa 2290: 27-35, DOI: 10.5281/zenodo.275294\r\n407CB657466A055EFF50C355FC8E8DFF.taxon\tdiagnosis\tDiagnosis. A species of Phenacoscorpius with the following combination of characters: pectoral-fin rays 17, all rays unbranched; no palatine teeth; second preopercular spine well-developed, its length longer than third or fourth spines; long snout, its length 12.8 â€“ 13.1 % (mean 12.9 %) SL and 27.9 â€“ 28.6 % (mean 28.2 %) HL; small eye, orbit diameter 12.3 â€“ 13.2 % (mean 12.8 %) SL and 26.9 â€“ 28.8 % (27.8 %) HL; narrow head, its width 27.4 â€“ 28.3 % (27.8 %) SL; long and shallow caudal peduncle, length and depth 16.9 â€“ 17.6 % (17.3 %) SL and 7.1 â€“ 8.2 % (7.7 %) SL respectively; long predorsal length 42.2 â€“ 43.1 % (42.7 %) SL; long preanal length 74.9 â€“ 75.0 % (74.9 %) SL; long prepelvic length 43.1 â€“ 43.5 % (43.3 %) SL.\ten\tMotomura, Hiroyuki, Last, Peter R. (2009): Phenacoscorpius longirostris, a new species of deep water scorpionfish (Scorpaeniformes: Scorpaenidae) from the northern Tasman Sea, southwestern Pacific Ocean. Zootaxa 2290: 27-35, DOI: 10.5281/zenodo.275294\r\n407CB657466A055EFF50C355FC8E8DFF.taxon\tmaterials_examined\tColor of preserved specimens. Body and all fins whitish, with small black spots scattered on caudal peduncle. (Fig. 2). In paratype, body with four indistinct brownish saddles; blackish blotch on membrane between seventh and tenth dorsal-fin spines still evident.\ten\tMotomura, Hiroyuki, Last, Peter R. (2009): Phenacoscorpius longirostris, a new species of deep water scorpionfish (Scorpaeniformes: Scorpaenidae) from the northern Tasman Sea, southwestern Pacific Ocean. Zootaxa 2290: 27-35, DOI: 10.5281/zenodo.275294\r\n```\r\n\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/660/timeline","performed_via_github_app":null,"state_reason":null}