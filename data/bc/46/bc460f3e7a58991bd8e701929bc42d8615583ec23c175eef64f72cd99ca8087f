[{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/2278066520","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/1003#issuecomment-2278066520","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/1003","id":2278066520,"node_id":"IC_kwDOACXQt86HyIlY","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-09T14:22:56Z","updated_at":"2024-08-09T14:26:10Z","body":"Root cause appears to be a httpclient library version conflict.\r\n\r\n![image](https://github.com/user-attachments/assets/f7642f60-0437-4d6b-a52a-1c6cd6d51519)\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/2278066520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/2278077276","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/1003#issuecomment-2278077276","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/1003","id":2278077276,"node_id":"IC_kwDOACXQt86HyLNc","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-09T14:27:38Z","updated_at":"2024-08-09T14:28:15Z","body":"quickfix successfully deployed . . . working on fixing root cause now.\r\n\r\n```\r\ncurl -I \"https://api.globalbioticinteractions.org/exists?accordingTo=globi:globalbioticinteractions/template-dataset\"\r\nHTTP/2 200 \r\ndate: Fri, 09 Aug 2024 14:27:55 GMT\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/2278077276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/2278116984","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/1003#issuecomment-2278116984","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/1003","id":2278116984,"node_id":"IC_kwDOACXQt86HyU54","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-09T14:45:13Z","updated_at":"2024-08-09T14:46:14Z","body":"Root cause was addressed by preventing an older version of httpclient to propagate in the dependency tree. Quickfix was reverted, and the api appears happy afterwards.\r\n\r\nOef!\r\n\r\n```\r\ncurl --silent -I \"https://api.globalbioticinteractions.org/exists?accordingTo=globi:globalbioticinteractions/template-dataset\" | head -2\r\nHTTP/2 200 \r\ndate: Fri, 09 Aug 2024 14:45:50 GMT\r\n```\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/2278116984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/2282182745","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/1003#issuecomment-2282182745","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/1003","id":2282182745,"node_id":"IC_kwDOACXQt86IB1hZ","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-10T15:12:47Z","updated_at":"2024-08-10T15:12:47Z","body":"Issue re-appeared overnight, with a suspicious (empty) search index being published.\r\n\r\nfirst, rolling back the version to the one published in\r\n\r\nGloBI Community. (2024). Global Biotic Interactions: Interpreted Data Products hash://md5/946f7666667d60657dc89d9af8ffb909 hash://sha256/4e83d2daee05a4fa91819d58259ee58ffc5a29ec37aa7e84fd5ffbb2f92aa5b8 (0.7) [Data set]. Zenodo. https://doi.org/10.5281/zenodo.11552565\r\n\r\nthen investigating the root cause of this search index issue.  ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/2282182745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/2282189428","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/1003#issuecomment-2282189428","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/1003","id":2282189428,"node_id":"IC_kwDOACXQt86IB3J0","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-10T15:40:06Z","updated_at":"2024-08-10T15:40:06Z","body":"A June 2024 copy of the GloBI search index was installed on the search index server. . . \r\n\r\n```\r\n$ curl --silent -I https://api.globalbioticinteractions.org/exists?accordingTo=globi:globalbioticinteractions/template-dataset | head -2\r\nHTTP/2 200 \r\ndate: Sat, 10 Aug 2024 15:39:29 GMT\r\n ```\r\n\r\ninvestigating root cause now . . . ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/2282189428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/2282190503","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/1003#issuecomment-2282190503","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/1003","id":2282190503,"node_id":"IC_kwDOACXQt86IB3an","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-10T15:44:46Z","updated_at":"2024-08-10T15:44:46Z","body":"Root cause appears to have been caused by a recent change to help address #999 .\r\n\r\n```\r\nug 10 17:16:46 lepus bash[421657]: [main] INFO org.eol.globi.data.DatasetImporterForRegistry - [jhpoelen/BatFly_Interactions] checking status...\r\nAug 10 17:16:46 lepus bash[421657]: [main] INFO org.eol.globi.data.DatasetImporterForRegistry - [jhpoelen/BatFly_Interactions] is active, importing...\r\nAug 10 17:16:47 lepus bash[421657]: java.io.IOError: java.io.IOException: failed to create tmpFile in [/var/cache/globi/index/eol-globi-datasets/target/data]\r\nAug 10 17:16:47 lepus bash[421657]:         at org.globalbioticinteractions.util.MapDBUtil.newTmpFileDB(MapDBUtil.java:24)\r\nAug 10 17:16:47 lepus bash[421657]:         at org.globalbioticinteractions.util.MapDBUtil.createBigMap(MapDBUtil.java:15)\r\nAug 10 17:16:47 lepus bash[421657]:         at org.eol.globi.data.DatasetImporterForMetaTable.indexDependencies(DatasetImporterForMetaTable.java:107)\r\nAug 10 17:16:47 lepus bash[421657]:         at org.eol.globi.data.DatasetImporterForMetaTable.indexDependencies(DatasetImporterForMetaTable.java:98)\r\nAug 10 17:16:47 lepus bash[421657]:         at org.eol.globi.data.DatasetImporterForMetaTable.importStudy(DatasetImporterForMetaTable.java:64)\r\nAug 10 17:16:47 lepus bash[421657]:         at org.eol.globi.data.DatasetImporterForRegistry.importData(DatasetImporterForRegistry.java:89)\r\nAug 10 17:16:47 lepus bash[421657]:         at org.eol.globi.data.DatasetImporterForRegistry.importData(DatasetImporterForRegistry.java:63)\r\nAug 10 17:16:47 lepus bash[421657]:         at org.eol.globi.data.DatasetImporterForRegistry.importStudy(DatasetImporterForRegistry.java:43)\r\nAug 10 17:16:47 lepus bash[421657]:         at org.eol.globi.tool.IndexerDataset.indexDatasets(IndexerDataset.java:79)\r\nAug 10 17:16:47 lepus bash[421657]:         at org.eol.globi.tool.IndexerDataset.index(IndexerDataset.java:51)\r\nAug 10 17:16:47 lepus bash[421657]:         at org.eol.globi.tool.CmdCompile.run(CmdCompile.java:32)\r\nAug 10 17:16:47 lepus bash[421657]:         at picocli.CommandLine.executeUserObject(CommandLine.java:1939)\r\nAug 10 17:16:47 lepus bash[421657]:         at picocli.CommandLine.access$1300(CommandLine.java:145)\r\nAug 10 17:16:47 lepus bash[421657]:         at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2358)\r\nAug 10 17:16:47 lepus bash[421657]:         at picocli.CommandLine$RunLast.handle(CommandLine.java:2352)\r\nAug 10 17:16:47 lepus bash[421657]:         at picocli.CommandLine$RunLast.handle(CommandLine.java:2314)\r\nAug 10 17:16:47 lepus bash[421657]:         at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2179)\r\nAug 10 17:16:47 lepus bash[421657]:         at picocli.CommandLine$RunLast.execute(CommandLine.java:2316)\r\nAug 10 17:16:47 lepus bash[421657]:         at picocli.CommandLine.execute(CommandLine.java:2078)\r\nAug 10 17:16:47 lepus bash[421657]:         at org.globalbioticinteractions.elton.Elton4N.run(Elton4N.java:46)\r\nAug 10 17:16:47 lepus bash[421657]:         at org.globalbioticinteractions.elton.Elton4N.main(Elton4N.java:37)\r\nAug 10 17:16:47 lepus bash[421657]: Caused by: java.io.IOException: failed to create tmpFile in [/var/cache/globi/index/eol-globi-datasets/target/data]\r\nAug 10 17:16:47 lepus bash[421657]:         ... 21 more\r\nAug 10 17:16:47 lepus bash[421657]: Caused by: java.io.IOException: Permission denied\r\nAug 10 17:16:47 lepus bash[421657]:         at java.io.UnixFileSystem.createFileExclusively(Native Method)\r\nAug 10 17:16:47 lepus bash[421657]:         at java.io.File.createTempFile(File.java:2063)\r\nAug 10 17:16:47 lepus bash[421657]:         at org.globalbioticinteractions.util.MapDBUtil.newTmpFileDB(MapDBUtil.java:21)\r\nAug 10 17:16:47 lepus bash[421657]:         ... 20 more\r\nAug 10 17:16:47 lepus bash[421657]: [Thread-3] INFO org.eol.globi.db.GraphServiceFactoryImpl - neo4j stopping...\r\n```\r\n\r\nThis caused the indexing process to be prematurely terminated, and produce an incomplete GloBI search index.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/2282190503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/2283825033","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/1003#issuecomment-2283825033","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/1003","id":2283825033,"node_id":"IC_kwDOACXQt86IIGeJ","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-12T12:21:30Z","updated_at":"2024-08-12T12:22:16Z","body":"Just release a newly rebuilt GloBI search index. See attached a screenshot of the https://globalbioticinteractions.org/datasets status page shortly after the new index was deployed.\r\n\r\nApologies for any inconvenience the search index inconsistencies may have caused. Yet another reminder that complex dynamic software infrastructure systems are useful, yet fragile, and need constant maintenance. Dataset archives however, can more easily be archived, distributed etc.  \r\n\r\n![image](https://github.com/user-attachments/assets/4434492a-46f6-47ee-81df-77f484a6fd97)\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/2283825033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]