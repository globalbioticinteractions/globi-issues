[{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/256489311","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/256#issuecomment-256489311","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/256","id":256489311,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NjQ4OTMxMQ==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-26T21:57:08Z","updated_at":"2016-10-26T21:57:08Z","body":"simlar to #233 .\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/256489311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/256490234","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/256#issuecomment-256490234","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/256","id":256490234,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NjQ5MDIzNA==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-26T22:01:21Z","updated_at":"2016-10-26T22:01:21Z","body":"@kueda there's some aggregate statistics on the taxon level that I could expose through the api. However, these aggregate statistics are across all data sources. Is that an issue?\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/256490234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/256513824","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/256#issuecomment-256513824","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/256","id":256513824,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NjUxMzgyNA==","user":{"login":"kueda","id":22691,"node_id":"MDQ6VXNlcjIyNjkx","avatar_url":"https://avatars.githubusercontent.com/u/22691?v=4","gravatar_id":"","url":"https://api.github.com/users/kueda","html_url":"https://github.com/kueda","followers_url":"https://api.github.com/users/kueda/followers","following_url":"https://api.github.com/users/kueda/following{/other_user}","gists_url":"https://api.github.com/users/kueda/gists{/gist_id}","starred_url":"https://api.github.com/users/kueda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kueda/subscriptions","organizations_url":"https://api.github.com/users/kueda/orgs","repos_url":"https://api.github.com/users/kueda/repos","events_url":"https://api.github.com/users/kueda/events{/privacy}","received_events_url":"https://api.github.com/users/kueda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-27T00:21:16Z","updated_at":"2016-10-27T00:21:16Z","body":"So you mean I could get the number of sources that say sea otters each purple sea urchins, but I could not get the number of times iNaturalist said sea otters eat purple sea urchins? I think that's fine.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/256513824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/256808528","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/256#issuecomment-256808528","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/256","id":256808528,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NjgwODUyOA==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-28T00:42:35Z","updated_at":"2016-10-28T00:42:35Z","body":"Added first pass at summary statistics through existing, optional, field `number_of_interactions`. \n\ne.g. http://api.globalbioticinteractions.org/interaction?type=json.v2&sourceTaxon=Enhydra&field=source_taxon_name&field=number_of_interactions&field=target_taxon_name&limit=3\nproduces:\n\n```\n[\n  {\n    \"source_taxon_name\": \"Enhydra lutris\",\n    \"number_of_interactions\": 1,\n    \"target_taxon_name\": \"Phoca vitulina\"\n  },\n  {\n    \"source_taxon_name\": \"Enhydra lutris\",\n    \"number_of_interactions\": 1,\n    \"target_taxon_name\": \"Larus occidentalis\"\n  },\n  {\n    \"source_taxon_name\": \"Enhydra lutris\",\n    \"number_of_interactions\": 2,\n    \"target_taxon_name\": \"Nassarius fossatus\"\n  }]\n```\n\nNote that this only works for queries that do _not_ use accordingTo or bbox queries. The summary statistics are only available to name/interactionType queries. \n\nAlso note that duplicate interactions can be possible, because the taxon id are used to distinguish individual taxa. The taxon names are merely labels for human consumption.\n\n@kueda let me know if this helps build more meaningful interactions graph. \n\nPS If you end up making interaction widgets, please do let me know. I'd very much like to re-use them in  the basic tools provided on globalbioticinteractions.org. \n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/256808528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/258033103","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/256#issuecomment-258033103","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/256","id":258033103,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODAzMzEwMw==","user":{"login":"kueda","id":22691,"node_id":"MDQ6VXNlcjIyNjkx","avatar_url":"https://avatars.githubusercontent.com/u/22691?v=4","gravatar_id":"","url":"https://api.github.com/users/kueda","html_url":"https://github.com/kueda","followers_url":"https://api.github.com/users/kueda/followers","following_url":"https://api.github.com/users/kueda/following{/other_user}","gists_url":"https://api.github.com/users/kueda/gists{/gist_id}","starred_url":"https://api.github.com/users/kueda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kueda/subscriptions","organizations_url":"https://api.github.com/users/kueda/orgs","repos_url":"https://api.github.com/users/kueda/repos","events_url":"https://api.github.com/users/kueda/events{/privacy}","received_events_url":"https://api.github.com/users/kueda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-02T23:44:04Z","updated_at":"2016-11-02T23:44:04Z","body":"Ok, well I still think this is good to have in general, but not having these numbers when using `accordingTo` is a deal-breaker for me. I basically want to make a graph of interactions for a taxon from iNat data and weight the edges according to number of interactions, so for that I would need a) only interactions from iNat, b) iNat taxon IDs, c) number of sources (i.e. iNat observations) per interaction.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/258033103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/258049279","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/256#issuecomment-258049279","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/256","id":258049279,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODA0OTI3OQ==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-03T01:53:22Z","updated_at":"2016-11-03T01:53:22Z","body":"I can see how that makes sense for your use case: re-opening issue. Thanks for your patience.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/258049279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/261013420","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/256#issuecomment-261013420","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/256","id":261013420,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTAxMzQyMA==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-16T17:30:16Z","updated_at":"2016-11-16T17:30:16Z","body":"@kueda am working on supporting your use case. . . and wanted to check what kind of information elements you'd like to have in the interaction summary. How about something like http://tinyurl.com/globi-inat-agg (have to run the query by clicking \"run\", for results see screenshot). The distinction between number_of_interactions and number_of_studies show that sometimes a single observation (= study) contains multiple interactions.\n\nOther than taxon ids, interaction types, number_of_interactions, number_of_studies, are there any additional information elements you need for your use case?\n\n![screenshot from 2016-11-16 09-28-35](https://cloud.githubusercontent.com/assets/1084872/20358018/1a97db40-abdf-11e6-9c52-01296acae63d.png)\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/261013420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/261147048","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/256#issuecomment-261147048","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/256","id":261147048,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTE0NzA0OA==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-17T03:41:28Z","updated_at":"2016-11-17T03:41:28Z","body":"First pass at aggregate statistics is now available through fields like `number_of_studies`, `number_of_interactions` and `number_of_sources`. Note that in GloBI a study translates to an iNaturalist observation, so if you are interested in distinct sea otter interactions from inaturalist and number of studies (i.e. observations) that reported them, you can do something like:\n\n http://api.globalbioticinteractions.org/interaction?type=json.v2&sourceTaxon=Enhydra&field=source_taxon_name&field=target_taxon_name&field=number_of_studies&accordingTo=inaturalist\n\n@kueda please close this issue if this now satisfies your use case.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/261147048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/263647256","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/256#issuecomment-263647256","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/256","id":263647256,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzY0NzI1Ng==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-29T17:58:44Z","updated_at":"2016-11-29T17:58:44Z","body":"@kueda please re-open / comment on this issue if there's anything else you need. Closing for now.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/263647256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]