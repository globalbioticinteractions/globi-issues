[{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/762526614","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/584#issuecomment-762526614","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/584","id":762526614,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjUyNjYxNA==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T00:22:45Z","updated_at":"2021-01-19T00:23:23Z","body":"Hi @seltmann - thanks for sharing your detailed issue.\r\n\r\nNote that rglobi is using the globi api. This api exposes an up-to-date search index that changes often. In contrast, the published data products on Zenodo are expected to be static. \r\n\r\nSo, when comparing rglobi search results with the Zenodo search results, differences are expected. \r\n\r\nAlso, as noted on the https://globalbioticinteractions.org/data page, rglobi and web apis are designed for exploration and discovery. The data products shared throught Zenodo are expected to be used in final research products.\r\n\r\nSome other details:\r\n\r\n1. the rglobi api by default returns taxon-level interaction records. When you'd like to include individual claims (like those in interactions.tsv on Zenodo), you'll have to add the \"includeObservations=true\" parameters (see e.g., https://github.com/globalbioticinteractions/globalbioticinteractions/wiki/API#query-parameters). \r\n2. in your R example it looks like your query pages overlap: the second page should start as the end of the previous one, in your case at 50k or ```otherkeys = list(\"limit\"=50000, \"skip\"=50000)```. Please see https://github.com/globalbioticinteractions/globalbioticinteractions/wiki/API#pagination for explanation of paging.\r\n3. From your example, it is not clear where your interactions.tsv was sourced or what it's content hash was. Can you please include both location and sha256 hash to help identify the source? \r\n\r\nGiven my comments above, your results (~100k interaction via Zenodo and ~84k via rglobi) are not that unexpected, especially given the default rglobi settings are such that interaction are summarized by sourceTaxon-interactionType-targetTaxon . \r\n\r\nIn my experience, most rOpenSci R libraries rely on web apis. Given that web apis are inherently unstable and likely to change, I believe that they should not be used for research purposes: the requests and results returned are not versioned and make it hard to a reviewer to reproduce results or for your future self to redo your work a couple of years down the road. \r\n\r\nHowever, if you provide some more information related to your comparison after reviewing my comments and considering my suggestions, I would be happy to assist in a comparison between results obtained from rglobi vs zenodo: the more we look at the data, the better it gets!\r\n\r\nCurious to hear your thoughts!","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/762526614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/763997211","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/584#issuecomment-763997211","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/584","id":763997211,"node_id":"MDEyOklzc3VlQ29tbWVudDc2Mzk5NzIxMQ==","user":{"login":"seltmann","id":1044474,"node_id":"MDQ6VXNlcjEwNDQ0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1044474?v=4","gravatar_id":"","url":"https://api.github.com/users/seltmann","html_url":"https://github.com/seltmann","followers_url":"https://api.github.com/users/seltmann/followers","following_url":"https://api.github.com/users/seltmann/following{/other_user}","gists_url":"https://api.github.com/users/seltmann/gists{/gist_id}","starred_url":"https://api.github.com/users/seltmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seltmann/subscriptions","organizations_url":"https://api.github.com/users/seltmann/orgs","repos_url":"https://api.github.com/users/seltmann/repos","events_url":"https://api.github.com/users/seltmann/events{/privacy}","received_events_url":"https://api.github.com/users/seltmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T22:35:03Z","updated_at":"2021-01-20T22:35:03Z","body":"@jhpoelen Thank you for these helpful comments. For these initial explorations, we want to use the live data. This can be done through rGlobi or frequent downloads of .tsv from the live dataset. Using live data is very useful when starting a research project, especially in this case where we are also actively adding data.\r\n\r\nOne further question. When data is entered into Globi such as the interaction:\r\n\r\n**Bee visits Plant according to Setlmann et. al.**\r\n\r\nDoes Gobi also add the reflexive even though it is not explicit in the dataset? Which would be:\r\n\r\n**Plant is visited by Bee according to Seltmann et. al.**\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/763997211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/764000899","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/584#issuecomment-764000899","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/584","id":764000899,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NDAwMDg5OQ==","user":{"login":"seltmann","id":1044474,"node_id":"MDQ6VXNlcjEwNDQ0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1044474?v=4","gravatar_id":"","url":"https://api.github.com/users/seltmann","html_url":"https://github.com/seltmann","followers_url":"https://api.github.com/users/seltmann/followers","following_url":"https://api.github.com/users/seltmann/following{/other_user}","gists_url":"https://api.github.com/users/seltmann/gists{/gist_id}","starred_url":"https://api.github.com/users/seltmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seltmann/subscriptions","organizations_url":"https://api.github.com/users/seltmann/orgs","repos_url":"https://api.github.com/users/seltmann/repos","events_url":"https://api.github.com/users/seltmann/events{/privacy}","received_events_url":"https://api.github.com/users/seltmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T22:42:10Z","updated_at":"2021-01-20T22:42:10Z","body":"I also am still unclear on the syntax in rGlobi to get all records that include Apidae that are listed as either the target or the source. I appreciate any suggestions.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/764000899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/764007582","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/584#issuecomment-764007582","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/584","id":764007582,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NDAwNzU4Mg==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T22:57:04Z","updated_at":"2021-01-20T22:57:04Z","body":"GloBI search index includes both directions of the interactions, so searching for available Apidae interactions using either source/target taxon queries would work.\r\n\r\nIn order words, if a record reports that \"a bee visits a plant\", then GloBI automatically infers that \"a plant was visited by a bee\" . ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/764007582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/764009172","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/584#issuecomment-764009172","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/584","id":764009172,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NDAwOTE3Mg==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T23:00:27Z","updated_at":"2021-01-20T23:00:27Z","body":"Note that this is also the case for symmetric interaction types. So, if a claim is made that \"a bee interacts with a plant\", then GloBI infers that \"a plant interacts with a bee\". ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/764009172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/765565364","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/584#issuecomment-765565364","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/584","id":765565364,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NTU2NTM2NA==","user":{"login":"seltmann","id":1044474,"node_id":"MDQ6VXNlcjEwNDQ0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1044474?v=4","gravatar_id":"","url":"https://api.github.com/users/seltmann","html_url":"https://github.com/seltmann","followers_url":"https://api.github.com/users/seltmann/followers","following_url":"https://api.github.com/users/seltmann/following{/other_user}","gists_url":"https://api.github.com/users/seltmann/gists{/gist_id}","starred_url":"https://api.github.com/users/seltmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seltmann/subscriptions","organizations_url":"https://api.github.com/users/seltmann/orgs","repos_url":"https://api.github.com/users/seltmann/repos","events_url":"https://api.github.com/users/seltmann/events{/privacy}","received_events_url":"https://api.github.com/users/seltmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-22T17:19:35Z","updated_at":"2021-01-22T17:19:35Z","body":"@jhpoelen great! So we would then get Apidae if it is a source or a target in searching. Is the data actually indexed this way or is it a product of a sophisticated search? In other words, in the interactions.tsv file would both be found in the file?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/765565364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/765586576","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/584#issuecomment-765586576","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/584","id":765586576,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NTU4NjU3Ng==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-22T17:58:17Z","updated_at":"2021-01-22T17:58:46Z","body":"the inferred inverse interactions are introduced into the indexes and are the result of a sophisticated search. I find it hard to distinguish between enriching an index with inferred records and sophisticated searches, because they are very much related in my mind.\r\n\r\nBy design, the interactions.tsv contains only the non-inferred, original interactions. However, I actually had to do extra work to make this happen (excluding inferred inverse interactions), so am happy to reconsider.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/765586576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/765626446","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/584#issuecomment-765626446","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/584","id":765626446,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NTYyNjQ0Ng==","user":{"login":"seltmann","id":1044474,"node_id":"MDQ6VXNlcjEwNDQ0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1044474?v=4","gravatar_id":"","url":"https://api.github.com/users/seltmann","html_url":"https://github.com/seltmann","followers_url":"https://api.github.com/users/seltmann/followers","following_url":"https://api.github.com/users/seltmann/following{/other_user}","gists_url":"https://api.github.com/users/seltmann/gists{/gist_id}","starred_url":"https://api.github.com/users/seltmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seltmann/subscriptions","organizations_url":"https://api.github.com/users/seltmann/orgs","repos_url":"https://api.github.com/users/seltmann/repos","events_url":"https://api.github.com/users/seltmann/events{/privacy}","received_events_url":"https://api.github.com/users/seltmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-22T19:10:09Z","updated_at":"2021-01-22T19:10:09Z","body":"At the moment, I think it is very good that the interactions.tsv excludes inferred inverse interactions. We are still exploring the data, so I it will be a while before we have any concrete recommendations. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/765626446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/786065385","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/584#issuecomment-786065385","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/584","id":786065385,"node_id":"MDEyOklzc3VlQ29tbWVudDc4NjA2NTM4NQ==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-25T17:19:03Z","updated_at":"2021-02-25T17:19:03Z","body":"@seltmann thanks for the discussion re: rglobi vs interactions.tsv.gz . Closing issue for now, please feel free to re-open if needed. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/786065385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]