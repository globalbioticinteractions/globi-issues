{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/196","repository_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions","labels_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/196/labels{/name}","comments_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/196/comments","events_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/196/events","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/196","id":121880870,"node_id":"MDU6SXNzdWUxMjE4ODA4NzA=","number":196,"title":"Intermittent 500 error getting imagesForName","user":{"login":"danielabar","id":2428282,"node_id":"MDQ6VXNlcjI0MjgyODI=","avatar_url":"https://avatars.githubusercontent.com/u/2428282?v=4","gravatar_id":"","url":"https://api.github.com/users/danielabar","html_url":"https://github.com/danielabar","followers_url":"https://api.github.com/users/danielabar/followers","following_url":"https://api.github.com/users/danielabar/following{/other_user}","gists_url":"https://api.github.com/users/danielabar/gists{/gist_id}","starred_url":"https://api.github.com/users/danielabar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielabar/subscriptions","organizations_url":"https://api.github.com/users/danielabar/orgs","repos_url":"https://api.github.com/users/danielabar/repos","events_url":"https://api.github.com/users/danielabar/events{/privacy}","received_events_url":"https://api.github.com/users/danielabar/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":258940694,"node_id":"MDU6TGFiZWwyNTg5NDA2OTQ=","url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/labels/globi3","name":"globi3","color":"bfe5bf","default":false,"description":null},{"id":287427841,"node_id":"MDU6TGFiZWwyODc0Mjc4NDE=","url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/labels/external%20issue","name":"external issue","color":"006b75","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-12-12T21:10:56Z","updated_at":"2016-06-07T17:17:52Z","closed_at":"2015-12-16T00:57:09Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Today have noticed that sometimes it takes > few seconds for `imagesForName` request to return, and when it does, its a 500 error.\n\nFor example it happened for [http://api.globalbioticinteractions.org/imagesForName/Animalia](http://api.globalbioticinteractions.org/imagesForName/Animalia) but then trying again it did work.\n\nLooking in console see following error:\n\n```\n<html>\n<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/>\n<title>Error 500 Server Error</title>\n</head>\n<body><h2>HTTP ERROR 500</h2>\n<p>Problem accessing /imagesForName/Animalia. Reason:\n<pre>    Server Error</pre></p><h3>Caused by:</h3><pre>java.net.SocketTimeoutException: Read timed out\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.read(SocketInputStream.java:152)\n    at java.net.SocketInputStream.read(SocketInputStream.java:122)\n    at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:136)\n    at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:152)\n    at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:270)\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:140)\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:57)\n    at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:260)\n    at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:161)\n    at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:153)\n    at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:271)\n    at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:123)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:254)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:195)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:86)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:108)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:106)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:57)\n    at org.eol.globi.service.EOLTaxonImageService.getPageInfo(EOLTaxonImageService.java:89)\n    at org.eol.globi.service.EOLTaxonImageService.lookupImageURLs(EOLTaxonImageService.java:70)\n    at org.eol.globi.service.EOLTaxonImageService.lookupImageForExternalId(EOLTaxonImageService.java:28)\n    at org.eol.globi.server.ImageService.findTaxonImagesForTaxonWithName(ImageService.java:35)\n    at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:743)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:672)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:82)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:919)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:851)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:953)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:844)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:829)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:769)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1667)\n    at org.eclipse.jetty.servlets.UserAgentFilter.doFilter(UserAgentFilter.java:83)\n    at org.eclipse.jetty.servlets.GzipFilter.doFilter(GzipFilter.java:364)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1650)\n    at org.eol.globi.server.HttpHeadRequestFilter.doFilter(HttpHeadRequestFilter.java:33)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1650)\n    at org.eol.globi.server.CorsFilter.doFilterInternal(CorsFilter.java:21)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1650)\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:583)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1125)\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1059)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n    at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)\n    at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)\n    at org.eclipse.jetty.server.Server.handle(Server.java:497)\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:311)\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:248)\n    at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:610)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:539)\n    at java.lang.Thread.run(Thread.java:745)\n</pre>\n<hr><i><small>Powered by Jetty://</small></i><hr/>\n\n</body>\n</html>\n```\n","closed_by":{"login":"danielabar","id":2428282,"node_id":"MDQ6VXNlcjI0MjgyODI=","avatar_url":"https://avatars.githubusercontent.com/u/2428282?v=4","gravatar_id":"","url":"https://api.github.com/users/danielabar","html_url":"https://github.com/danielabar","followers_url":"https://api.github.com/users/danielabar/followers","following_url":"https://api.github.com/users/danielabar/following{/other_user}","gists_url":"https://api.github.com/users/danielabar/gists{/gist_id}","starred_url":"https://api.github.com/users/danielabar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielabar/subscriptions","organizations_url":"https://api.github.com/users/danielabar/orgs","repos_url":"https://api.github.com/users/danielabar/repos","events_url":"https://api.github.com/users/danielabar/events{/privacy}","received_events_url":"https://api.github.com/users/danielabar/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/196/timeline","performed_via_github_app":null,"state_reason":"completed"}