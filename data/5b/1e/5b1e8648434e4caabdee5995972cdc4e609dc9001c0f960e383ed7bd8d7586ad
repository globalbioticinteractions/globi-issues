[{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/1059551715","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/769#issuecomment-1059551715","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/769","id":1059551715,"node_id":"IC_kwDOACXQt84_J3nj","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T21:40:45Z","updated_at":"2022-03-04T21:40:45Z","body":"@qgroom I've made a first pass at using Gephi's streaming plugin to (interactively) load species interaction datasets in to Gephi.\r\n\r\nthe attached screenshot was made by:\r\n\r\n1. use https://gist.github.com/troyharvey/dca9efc8be4e2a49034ee48d3c381d48 to install Gephi stream plugin\r\n2. get some graph stream via GloBI API using ```curl \"https://api.globalbioticinteractions.org/interaction.gs?accordingTo=globi:globalbioticinteractions/bat-co-roosting-database&limit=10000\" > bat-co-roosting-database.gs``` (note the interaction.gs selects graph stream mode) . Note that with this, you can use regular GloBI API parameters to select graph of interest.  This particular one, selects the first 10k interaction from the [globalbioticinteractions/bat-co-roosting-database](https://globalbioticinteractions.org/?accordingTo=globi:globalbioticinteractions/bat-co-roosting-database) . \r\n4. load local file into Gephi stream\r\n\r\nRemaining challenges - \r\n\r\na. For some weird reason, Gephi is refusing to load the json stream straight from the horses mouth. \r\n\r\nb. Also, I imagine that the colors and attributes can be optimized to get a nice user experience.\r\n\r\nCurious to hear your thoughts and whether you can reproduce. \r\n\r\n![Screenshot from 2022-03-04 15-34-15](https://user-images.githubusercontent.com/1084872/156845332-72ce4152-666d-4440-997f-861aa51d5be0.png)\r\n\r\n\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/1059551715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/1059712189","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/769#issuecomment-1059712189","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/769","id":1059712189,"node_id":"IC_kwDOACXQt84_Key9","user":{"login":"qgroom","id":5530576,"node_id":"MDQ6VXNlcjU1MzA1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/5530576?v=4","gravatar_id":"","url":"https://api.github.com/users/qgroom","html_url":"https://github.com/qgroom","followers_url":"https://api.github.com/users/qgroom/followers","following_url":"https://api.github.com/users/qgroom/following{/other_user}","gists_url":"https://api.github.com/users/qgroom/gists{/gist_id}","starred_url":"https://api.github.com/users/qgroom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qgroom/subscriptions","organizations_url":"https://api.github.com/users/qgroom/orgs","repos_url":"https://api.github.com/users/qgroom/repos","events_url":"https://api.github.com/users/qgroom/events{/privacy}","received_events_url":"https://api.github.com/users/qgroom/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-05T07:24:40Z","updated_at":"2022-03-05T07:24:40Z","body":"Hi Jorrit,\nthat's really amazing and useful.\nAs it turns out tomorrow I'm off to a hackathon in Romania that I'm\nco-organising with Cristina Preda who created the Vespa velutina dataset\nfor Globi last year.\nInteractions, particularly of insects will be a big theme for us during the\nhackathon and a means to quickly extract data from Globi in a format\nsuitable for Gephi is really useful.\n\nBTW: One thing I tried was to get a CSV output like this...\ncurl \"\nhttps://api.globalbioticinteractions.org/interaction.gs?accordingTo=globi%3Aqgroom%2FVespa-velutina&interactionType=ecologicallyRelatedTo&type=csv\"\n> cristina_vespa.csv\n\nBut I just get JSON back. Probably I have not got the right command.\n\nDetails of our hackathon are here\nhttps://github.com/alien-csi/alien-csi-hackathon\n\nIt's quite basic, just 14 people and not many hard core IT people, but it\nshould be fun nevertheless.\nQuentin\n\n\n\n\n\nOn Fri, 4 Mar 2022 at 22:40, Jorrit Poelen ***@***.***> wrote:\n\n> @qgroom <https://github.com/qgroom> I've made a first pass at using\n> Gephi's streaming plugin to (interactively) load species interaction\n> datasets in to Gephi.\n>\n> the attached screenshot was made by:\n>\n>    1. use\n>    https://gist.github.com/troyharvey/dca9efc8be4e2a49034ee48d3c381d48 to\n>    install Gephi stream plugin\n>    2. get some graph stream via GloBI API using curl \"\n>    https://api.globalbioticinteractions.org/interaction.gs?accordingTo=globi:globalbioticinteractions/bat-co-roosting-database&limit=10000\"\n>    > bat-co-roosting-database.gs (note the interaction.gs selects graph\n>    stream mode) . Note that with this, you can use regular GloBI API\n>    parameters to select graph of interest. This particular one, selects the\n>    first 10k interaction from the\n>    globalbioticinteractions/bat-co-roosting-database\n>    <https://globalbioticinteractions.org/?accordingTo=globi:globalbioticinteractions/bat-co-roosting-database>\n>    .\n>    3. load local file into Gephi stream\n>\n> Remaining challenges -\n>\n> a. For some weird reason, Gephi is refusing to load the json stream\n> straight from the horses mouth.\n>\n> b. Also, I imagine that the colors and attributes can be optimized to get\n> a nice user experience.\n>\n> Curious to hear your thoughts and whether you can reproduce.\n>\n> [image: Screenshot from 2022-03-04 15-34-15]\n> <https://user-images.githubusercontent.com/1084872/156845332-72ce4152-666d-4440-997f-861aa51d5be0.png>\n>\n> â€”\n> Reply to this email directly, view it on GitHub\n> <https://github.com/globalbioticinteractions/globalbioticinteractions/issues/769#issuecomment-1059551715>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/ABKGHUCLZEUKIYDNKTYKYLLU6J7OTANCNFSM5P4AWO4Q>\n> .\n> You are receiving this because you were mentioned.Message ID:\n> <globalbioticinteractions/globalbioticinteractions/issues/769/1059551715@\n> github.com>\n>\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/1059712189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/1059764879","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/769#issuecomment-1059764879","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/769","id":1059764879,"node_id":"IC_kwDOACXQt84_KrqP","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-05T13:26:57Z","updated_at":"2022-03-05T13:28:17Z","body":"@qgroom thanks for your reply. \r\n\r\nPlease let me know if there's more suitable formats for graph visualization. If so, a worked-out example file would be nice so I can follow it.\r\n\r\nWhat I liked about the graph stream format is that it's . . . streaming . There's no need to read the entire file before starting to put the network together. \r\n\r\nAs far as the csv api question - \r\n\r\ninstead of \r\n\r\n```\r\ncurl \"https://api.globalbioticinteractions.org/interaction.gs?accordingTo=globi%3Aqgroom%2FVespa-velutina&interactionType=ecologicallyRelatedTo&type=csv\"\r\n```\r\n\r\ntry \r\n\r\n```\r\n$ curl \"https://api.globalbioticinteractions.org/interaction.csv?accordingTo=globi%3Aqgroom%2FVespa-velutina&interactionType=ecologicallyRelatedTo\" | head -n2\r\n\"source_taxon_external_id\",\"source_taxon_name\",\"source_taxon_path\",\"source_specimen_occurrence_id\",\"source_specimen_institution_code\",\"source_specimen_collection_code\",\"source_specimen_catalog_number\",\"source_specimen_life_stage\",\"source_specimen_basis_of_record\",\"interaction_type\",\"target_taxon_external_id\",\"target_taxon_name\",\"target_taxon_path\",\"target_specimen_occurrence_id\",\"target_specimen_institution_code\",\"target_specimen_collection_code\",\"target_specimen_catalog_number\",\"target_specimen_life_stage\",\"target_specimen_basis_of_record\",\"latitude\",\"longitude\",\"study_title\"\r\n\"GBIF:5076715\",\"Conops vesicularis\",\"Animalia | Arthropoda | Insecta | Diptera | Conopidae | Conops | Conops vesicularis\",,,,,,,\"endoparasiteOf\",\"GBIF:1311477\",\"Vespa velutina\",\"Animalia | Arthropoda | Insecta | Hymenoptera | Vespidae | Vespa | Vespa velutina\",,,,,,,,,\r\n\r\n```\r\n\r\nor \r\n\r\n```\r\ncurl \"https://api.globalbioticinteractions.org/interaction?accordingTo=globi%3Aqgroom%2FVespa-velutina&interactionType=ecologicallyRelatedTo&type=csv\" | head -n2\r\n\"source_taxon_external_id\",\"source_taxon_name\",\"source_taxon_path\",\"source_specimen_occurrence_id\",\"source_specimen_institution_code\",\"source_specimen_collection_code\",\"source_specimen_catalog_number\",\"source_specimen_life_stage\",\"source_specimen_basis_of_record\",\"interaction_type\",\"target_taxon_external_id\",\"target_taxon_name\",\"target_taxon_path\",\"target_specimen_occurrence_id\",\"target_specimen_institution_code\",\"target_specimen_collection_code\",\"target_specimen_catalog_number\",\"target_specimen_life_stage\",\"target_specimen_basis_of_record\",\"latitude\",\"longitude\",\"study_title\"\r\n\"GBIF:5076715\",\"Conops vesicularis\",\"Animalia | Arthropoda | Insecta | Diptera | Conopidae | Conops | Conops vesicularis\",,,,,,,\"endoparasiteOf\",\"GBIF:1311477\",\"Vespa velutina\",\"Animalia | Arthropoda | Insecta | Hymenoptera | Vespidae | Vespa | Vespa velutina\",,,,,,,,,\r\n\r\n```\r\n\r\nGloBI was getting confused by the ```.gs``` extension you included in your original api request.\r\n\r\nLet me know if there's a good time to \"drop in\" to the hack-a-thon . Happy have a q & a / brainstorm session if that might benefit your hack-a-thon outcomes. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/1059764879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/1059774966","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/769#issuecomment-1059774966","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/769","id":1059774966,"node_id":"IC_kwDOACXQt84_KuH2","user":{"login":"qgroom","id":5530576,"node_id":"MDQ6VXNlcjU1MzA1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/5530576?v=4","gravatar_id":"","url":"https://api.github.com/users/qgroom","html_url":"https://github.com/qgroom","followers_url":"https://api.github.com/users/qgroom/followers","following_url":"https://api.github.com/users/qgroom/following{/other_user}","gists_url":"https://api.github.com/users/qgroom/gists{/gist_id}","starred_url":"https://api.github.com/users/qgroom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qgroom/subscriptions","organizations_url":"https://api.github.com/users/qgroom/orgs","repos_url":"https://api.github.com/users/qgroom/repos","events_url":"https://api.github.com/users/qgroom/events{/privacy}","received_events_url":"https://api.github.com/users/qgroom/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-05T14:30:06Z","updated_at":"2022-03-05T14:30:06Z","body":"Thanks for the tips I'll give them a try.\r\nAlthough, you have moved two time zones eastward, the hackathon is also east of here.\r\nI think 08:00-10:00 your time 16:00-18:00 Romanian time would be easiest. Probably we will busy on Monday getting people up and running, so perhaps Tuesday of before the Wednesday meeting. I'll send you the Zoom links we will be on.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/1059774966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/1059778191","html_url":"https://github.com/globalbioticinteractions/globalbioticinteractions/issues/769#issuecomment-1059778191","issue_url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/769","id":1059778191,"node_id":"IC_kwDOACXQt84_Ku6P","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-05T14:54:08Z","updated_at":"2022-03-05T14:54:08Z","body":"Sounds good. Tuesday may work for me. Please keep me in the loop on whether my contributions would be useful. \r\n\r\nbtw - by default, the GloBI API exposes the aggregate taxon level interactions. For accessing occurrence level data, add \"includeObservations=true\" in the search parameters. \r\n\r\n```\r\n$ curl \"https://api.globalbioticinteractions.org/interaction.csv?accordingTo=globi%3Aqgroom%2FVespa-velutina&interactionType=ecologicallyRelatedTo&includeObservations=true\" | head -n2 \r\n\"source_taxon_external_id\",\"source_taxon_name\",\"source_taxon_path\",\"source_specimen_occurrence_id\",\"source_specimen_institution_code\",\"source_specimen_collection_code\",\"source_specimen_catalog_number\",\"source_specimen_life_stage\",\"source_specimen_basis_of_record\",\"interaction_type\",\"target_taxon_external_id\",\"target_taxon_name\",\"target_taxon_path\",\"target_specimen_occurrence_id\",\"target_specimen_institution_code\",\"target_specimen_collection_code\",\"target_specimen_catalog_number\",\"target_specimen_life_stage\",\"target_specimen_basis_of_record\",\"latitude\",\"longitude\",\"study_title\"\r\n\"GBIF:5076715\",\"Conops vesicularis\",\"Animalia | Arthropoda | Insecta | Diptera | Conopidae | Conops | Conops vesicularis\",,,,,,,\"endoparasiteOf\",\"GBIF:1311477\",\"Vespa velutina\",\"Animalia | Arthropoda | Insecta | Hymenoptera | Vespidae | Vespa | Vespa velutina\",,,,,\"adult\",,,,\"qgroom/Vespa-velutina10.1007/s13592-014-0297-y\"\r\n```\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/globalbioticinteractions/issues/comments/1059778191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]